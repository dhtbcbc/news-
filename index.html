<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>موسوعة الشعر العراقي</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome for icons (Hamburger, Search, Social Media) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Custom Colors and Fonts */
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap'); /* Modern Arabic font */
        @import url('https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&display=swap'); /* Classic Arabic font for poem text */

        :root {
            --main-bg: #FFF2E0; /* Off-white background for the entire site */
            --dark-heading: #222222; /* Black for headings */
            --body-text: #444444; /* Dark gray for body text */
            --button-default-text: #000000; /* Black text on default buttons */
            --button-bg-default: #E0E0E0; /* Light gray for default button background, to allow black text */
            --button-hover-bg: #FFA500; /* Orange background on button hover/active */
            --button-hover-text: white; /* White text on orange buttons */
            --footer-text: #EEEEEE; /* Light text for footer */
            --dark-blue-footer: #1A2B4C; /* لون أزرق داكن خاص بالفوتر */
            --footer-link-hover: #FFA500; /* Orange hover for footer links */
            --poet-card-border: #8B5E3C; /* Warm brown for poet card border */
            --modal-bg: #FFF2E0; /* Same as main background for modal */
            --copy-button-bg: #00ADB5; /* Turquoise for copy button */
            --copy-button-hover-bg: #008C99; /* Darker turquoise on hover */
            --accent-orange: #FFA500; /* تعريف لون برتقالي لسهولة الوصول إليه */
            --accent-brown: #8B5E3C; /* تعريف لون بني لسهولة الوصول إليه */
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background-color: var(--main-bg); /* Apply main background to entire body */
            color: var(--body-text);
            line-height: 1.8;
            scroll-behavior: smooth;
            overflow-x: hidden; /* Prevent horizontal scroll */
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: var(--main-bg);
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb {
            background: var(--accent-orange);
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: var(--accent-brown);
        }

        /* --- Header Specific Styles --- */
        .fixed-header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 50;
            background-color: var(--main-bg); /* Same as main background for seamless look */
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05); /* Soft shadow */
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            padding: 1rem 1.5rem; /* Adjusted padding */
            display: flex;
            align-items: center;
            justify-content: space-between; /* Distribute items */
        }

        .header-hidden {
            transform: translateY(-100%);
        }

        /* Website Title in Header */
        .header-title {
            font-size: 2.2rem; /* Adjusted for tighter fit */
            font-weight: 800; /* Extra bold */
            color: var(--dark-heading);
            white-space: nowrap; /* Prevent wrapping */
            flex-shrink: 0; /* Don't shrink */
            margin-left: 1rem; /* Space from search bar */
        }

        /* Search Bar within Header */
        .header-search-container {
            flex-grow: 1; /* Allow search bar to take available space */
            position: relative;
        }
        .header-search-input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 2.5rem; /* Padding for text and icon */
            border-radius: 9999px;
            border: 2px solid var(--accent-orange);
            background-color: white; /* White background for search input */
            color: var(--dark-heading);
            font-size: 1rem;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
        }
        .header-search-input::placeholder {
            color: var(--body-text);
            opacity: 0.7;
        }
        .header-search-input:focus {
            outline: none;
            border-color: var(--accent-brown);
            box-shadow: 0 0 0 3px rgba(139, 94, 60, 0.2); /* Focus ring for brown */
        }
        .header-search-icon {
            position: absolute;
            left: 1rem; /* Position from left in RTL */
            top: 50%;
            transform: translateY(-50%);
            color: var(--body-text);
            font-size: 1.1rem;
        }

        /* Hamburger Menu Toggle */
        .hamburger-toggle {
            color: var(--dark-heading);
            font-size: 2.2rem;
            cursor: pointer;
            padding: 0.5rem;
            transition: color 0.2s ease;
            flex-shrink: 0; /* Don't shrink */
            margin-right: 0.5rem; /* Space from search bar */
        }
        .hamburger-toggle:hover {
            color: var(--accent-orange);
        }

        /* --- Hero Section Styles --- */
        .hero-section {
            padding: 5rem 1rem;
            text-align: center;
        }
        .hero-title {
            font-size: 3.5rem;
            font-weight: 800;
            color: var(--dark-heading);
            line-height: 1.3;
        }
        .hero-subtitle {
            font-size: 1.5rem;
            color: var(--body-text);
            max-width: 800px;
            margin: 1.5rem auto 0;
            line-height: 1.6;
        }

        /* --- Poet Grid Card --- */
        .poet-grid-card {
            background-color: white;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border-top: 5px solid var(--poet-card-border);
            position: relative;
            overflow: hidden;
            display: flex; /* For vertical centering of text */
            align-items: center;
            justify-content: center;
            min-height: 150px; /* Ensure consistent height */
        }
        .poet-grid-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
            background-color: #FFFBF5; /* Slight hover background */
        }
        .poet-grid-card h3 {
            color: var(--dark-heading);
            font-size: 2rem;
            font-weight: 700;
            margin: 0; /* Remove default margin */
            transition: color 0.2s ease;
        }
        .poet-grid-card:hover h3 {
            color: var(--accent-orange); /* Text color change on hover */
        }

        /* --- Poet Detail Modal (The "Second Layer") --- */
        .poet-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6); /* Darker overlay for strong layering effect */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .poet-modal.open {
            opacity: 1;
            visibility: visible;
        }
        .poet-modal-content {
            background-color: var(--modal-bg); /* Same as main background */
            border-radius: 15px;
            padding: 2.5rem;
            width: 90%;
            max-width: 900px;
            max-height: 90vh; /* Limit height for scrolling */
            overflow-y: auto;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
            position: relative;
            transform: translateY(30px); /* Appear from slightly below */
            opacity: 0;
            transition: transform 0.4s ease-out, opacity 0.4s ease-out;
        }
        .poet-modal.open .poet-modal-content {
            transform: translateY(0);
            opacity: 1;
        }
        .close-modal-btn {
            position: absolute;
            top: 15px;
            left: 15px; /* Position from left in RTL */
            font-size: 2.5rem;
            color: var(--dark-heading);
            cursor: pointer;
            transition: color 0.2s ease;
        }
        .close-modal-btn:hover {
            color: var(--accent-orange);
        }

        /* Poet Detail Content within Modal */
        #poet-detail-name {
            font-size: 3rem;
            font-weight: 800;
            color: var(--dark-heading);
            margin-bottom: 1.5rem;
            text-align: center;
            border-bottom: 2px solid var(--accent-orange); /* Underline for name */
            padding-bottom: 10px;
        }
        #poet-detail-bio {
            font-size: 1.1rem;
            color: var(--body-text);
            line-height: 2;
            margin-bottom: 2.5rem;
            padding: 0 1rem;
            text-align: justify;
        }

        /* Category Buttons within Modal */
        .category-pill {
            background-color: var(--button-bg-default); /* Default light gray */
            color: var(--button-default-text); /* Black text */
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .category-pill:hover, .category-pill.active {
            background-color: var(--button-hover-bg); /* Orange on hover/active */
            color: var(--button-hover-text); /* White text */
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        /* Individual Poem Display (Full Text Directly) within Modal */
        .poem-full-card {
            background-color: white; /* White background for poem cards */
            border-radius: 10px;
            padding: 1.5rem;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            margin-bottom: 1.5rem;
            border-right: 4px solid var(--accent-orange); /* Artistic border */
            position: relative; /* For copy button positioning */
        }
        .poem-full-card h4 {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--dark-heading);
            margin-bottom: 1rem;
            border-bottom: 1px solid rgba(0,0,0,0.1);
            padding-bottom: 0.75rem;
            text-align: center;
        }
        .poem-full-card .poem-text {
            font-family: 'Amiri', serif; /* Classic font for poem text */
            font-size: 1.1rem;
            white-space: pre-line; /* Preserves line breaks */
            line-height: 2.2; /* Generous line height for poetry */
            color: var(--body-text);
            text-align: justify;
            padding-bottom: 1.5rem; /* Space for copy button */
        }

        .copy-button {
            position: absolute;
            bottom: 10px;
            left: 10px;
            background-color: var(--copy-button-bg);
            color: white;
            padding: 0.5rem 0.8rem;
            border-radius: 8px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: background-color 0.2s ease, transform 0.2s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .copy-button:hover {
            background-color: var(--copy-button-hover-bg);
            transform: translateY(-1px);
        }
        .copy-button i {
            font-size: 1rem;
        }

        /* --- Floating "Back to Home" Button --- */
        #back-to-home-btn {
            position: fixed;
            top: 100px; /* Below the header */
            right: 20px;
            background-color: var(--accent-brown); /* Consistent with theme */
            color: white;
            padding: 12px 20px;
            border-radius: 9999px;
            font-weight: 700;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            z-index: 40;
            opacity: 0;
            visibility: hidden;
            display: none; /* Hidden by default, shown by JS */
        }
        #back-to-home-btn.active {
            opacity: 1;
            visibility: visible;
            transform: translateX(0);
        }
        #back-to-home-btn:hover {
            background-color: var(--accent-orange);
            transform: translateY(-2px);
        }

        /* --- Mobile Sidebar Menu --- */
        #mobile-sidebar {
            position: fixed;
            top: 0;
            right: -250px; /* Hidden initially */
            width: 250px;
            height: 100%;
            background-color: var(--accent-brown); /* Darker for contrast */
            box-shadow: -5px 0 15px rgba(0,0,0,0.3);
            transition: right 0.3s ease-in-out;
            z-index: 90;
            padding-top: 60px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        #mobile-sidebar.open {
            right: 0;
        }
        #mobile-sidebar a {
            display: block;
            padding: 15px 20px;
            color: white;
            font-size: 1.2rem;
            text-decoration: none;
            transition: background-color 0.2s ease;
            width: 100%;
            text-align: center;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        #mobile-sidebar a:last-child {
            border-bottom: none;
        }
        #mobile-sidebar a:hover {
            background-color: rgba(255,255,255,0.1);
        }
        #mobile-sidebar .close-btn {
            position: absolute;
            top: 10px;
            left: 20px;
            font-size: 2.5rem;
            color: white;
            cursor: pointer;
        }

        /* Custom Footer Style */
        .site-footer {
            background-color: var(--dark-blue-footer); /* استخدام اللون الأزرق الداكن الجديد */
            color: var(--footer-text); /* لون النص الفاتح */
            padding: 2rem 0; /* زيادة المسافة البادئة للحصول على مظهر أفضل */
            text-align: center;
            margin-top: 4rem; /* فصل الفوتر عن المحتوى الرئيسي أعلاه */
        }
        .site-footer a {
            color: var(--footer-text);
            transition: color 0.2s ease;
        }
        .site-footer a:hover {
            color: var(--footer-link-hover);
        }

        /* --- Responsive Adjustments --- */
        @media (max-width: 768px) {
            .fixed-header {
                flex-wrap: wrap;
                padding: 0.8rem 1rem;
            }
            .header-title {
                width: 100%; /* Take full width on small screens */
                text-align: center;
                margin-bottom: 0.5rem;
                font-size: 1.8rem;
                order: -1; /* Place title first */
            }
            .header-search-container {
                width: calc(100% - 60px); /* Adjust width to make space for hamburger */
                margin: 0.5rem 0; /* Add vertical margin */
            }
            .hamburger-toggle {
                position: absolute; /* Position relative to header */
                left: 1rem;
                top: 0.8rem;
            }

            .hero-section { padding: 3rem 1rem; }
            .hero-title { font-size: 2.5rem; }
            .hero-subtitle { font-size: 1.2rem; }

            .poet-grid-card h3 { font-size: 1.6rem; }

            .poet-modal-content { width: 95%; padding: 1.5rem; }
            #poet-detail-name { font-size: 2rem; margin-bottom: 1rem; }
            #poet-detail-bio { font-size: 0.95rem; line-height: 1.8; margin-bottom: 1.5rem; padding: 0;}
            .category-pill { padding: 0.5rem 1rem; font-size: 0.85rem; }
            .poem-full-card h4 { font-size: 1.4rem; }
            .poem-full-card .poem-text { font-size: 1rem; line-height: 1.8;}

            .copy-button {
                padding: 0.4rem 0.7rem;
                font-size: 0.8rem;
            }
            .copy-button i {
                font-size: 0.9rem;
            }

            #back-to-home-btn {
                top: 80px; /* Adjust for smaller header height */
                padding: 10px 15px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <!-- Top Header (Fixed Navigation Bar) -->
    <header id="main-header" class="fixed-header">
        <!-- Website Title -->
        <h1 class="header-title">موسوعة الشعر العراقي</h1>

        <!-- Search Bar -->
        <div class="header-search-container relative">
            <input type="text" id="search-input" placeholder="ابحث عن شاعر أو قصيدة..." class="header-search-input">
            <i class="fas fa-search header-search-icon"></i>
        </div>

        <!-- Hamburger Menu Toggle -->
        <button id="hamburger-menu-toggle" class="hamburger-toggle">
            <i class="fas fa-bars"></i>
        </button>
    </header>

    <!-- Mobile Sidebar Menu (Also serves as the main navigation for all screens) -->
    <div id="mobile-sidebar">
        <button class="close-btn" onclick="closeMobileMenu()">&times;</button>
        <a href="#" data-section="home" onclick="showSection('home')">الصفحة الرئيسية</a>
        <a href="#" data-section="poets" onclick="showSection('poets')">الشعراء</a>
        <a href="#" data-section="love" onclick="showSection('love')">الحب</a>
        <a href="#" data-section="separation" onclick="showSection('separation')">الفراق</a>
        <a href="#" data-section="longing" onclick="showSection('longing')">الحنين</a>
        <a href="#" data-section="ghazal" onclick="showSection('ghazal')">الغزل</a>
        <a href="#" data-section="wisdom" onclick="showSection('wisdom')">الحكمة</a>
        <!-- Add more categories here as needed -->
    </div>

    <!-- Main Content Area -->
    <main class="container mx-auto px-4">
        <!-- Offset for fixed header (adjust height if header padding changes) -->
        <div class="h-[100px] sm:h-[100px] md:h-[80px]"></div>

        <!-- Hero Section -->
        <section id="home-section" class="content-section active hero-section">
            <h2 class="hero-title hero-text">مرحبًا بك في موسوعة الشعر العراقي</h2>
            <p class="hero-subtitle hero-text">بوابة شاملة لأروع القصائد وأبرز الشعراء العراقيين</p>
        </section>

        <!-- Poets Section (Grid of Names) - Layer 1 -->
        <section id="poets-section" class="content-section py-10 sm:py-16">
            <h2 class="text-4xl font-bold text-dark-heading text-center mb-10">الشعراء</h2>
            <div id="poets-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                <!-- Poet cards will be dynamically generated here by JS -->
            </div>
        </section>

        <!-- Floating "Back to Home" Button (Appears when poet modal is open) -->
        <button id="back-to-home-btn" class="hidden" onclick="closePoetModal(); showSection('poets');">
            العودة للصفحة الرئيسية
        </button>
    </main>

    <!-- Poet Detail Modal/Layer (The "Second Layer") -->
    <div id="poet-detail-modal" class="poet-modal">
        <div class="poet-modal-content">
            <button class="close-modal-btn" onclick="closePoetModal()">&times;</button>
            <h2 id="poet-detail-name"></h2>
            <p id="poet-detail-bio"></p>

            <h3 class="text-3xl font-bold text-dark-heading text-center mb-6 mt-8">قصائد الشاعر</h3>
            <div id="poem-categories" class="flex flex-wrap justify-center gap-3 mb-8">
                <!-- Category buttons will be generated here -->
            </div>
            <div id="poems-display">
                <!-- Poems with title and full text will load directly here -->
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="container mx-auto px-4">
            <h4 class="text-3xl sm:text-4xl font-extrabold mb-4">موسوعة الشعر العراقي</h4>
            <p class="text-base leading-relaxed max-w-4xl mx-auto mb-6">
                بوابتك الشاملة لأروع قصائد الشعر الشعبي العراقي، من عمالقة الشعر إلى الأصوات الشابة. نسعى لإثراء الساحة الأدبية وتقديم أرشيف متكامل يعكس جمال وعمق الكلمة العراقية.
            </p>
            <p class="text-sm mb-4">
                &copy; <span id="current-year"></span> كرار حيدر. جميع الحقوق محفوظة.
            </p>
            <div class="text-sm mb-4 flex flex-wrap justify-center gap-x-4 gap-y-2">
                <a href="#" class="hover:underline">سياسة الخصوصية</a>
                <span>|</span>
                <a href="#" class="hover:underline">شروط الاستخدام</a>
            </div>
            <div class="flex flex-col sm:flex-row justify-center items-center sm:space-x-8 space-y-4 sm:space-y-0 text-2xl mt-4">
                <a href="https://www.youtube.com/@U1QO1" target="_blank" class="hover:text-footer-link-hover transition-colors flex items-center space-x-2 space-x-reverse">
                    <i class="fab fa-youtube"></i> <span>@U1QO1</span>
                </a>
                <a href="https://www.instagram.com/k9x9i" target="_blank" class="hover:text-footer-link-hover transition-colors flex items-center space-x-2 space-x-reverse">
                    <i class="fab fa-instagram"></i> <span>@k9x9i</span>
                </a>
                <a href="https://www.tiktok.com/@c3_i2" target="_blank" class="hover:text-footer-link-hover transition-colors flex items-center space-x-2 space-x-reverse">
                    <i class="fab fa-tiktok"></i> <span>@c3_i2</span>
                </a>
            </div>
        </div>
    </footer>

    <script>
        // Data for poets and poems (All content embedded directly in HTML)
        const poetsData = [
            {
                id: 'al_mutanabbi',
                name: 'أبو الطيب المتنبي',
                bio: 'هو أحمد بن الحسين الجعفي الكندي الكوفي أبو الطيب المتنبي. أحد أعظم شعراء العرب، ولد بالكوفة سنة 303 هـ وتوفي سنة 354 هـ. اشتهر بقوة لغته وفصاحته، وحكمته في شعره الذي تناول المدح والهجاء والرثاء والفخر والحكمة. يُعتبر شعره قمة الإبداع الأدبي العربي، وقد حفظ منه الكثير وصار مضرب الأمثال.',
                poems: {
                    love: [
                        { title: 'أحبك لو كان حبي داءً', text: 'أحبك لو كان حبي داءً يداويني\nوقلبي يذوبُ شوقًا، والحنينُ يكويني\nفي كلِّ نظرةٍ منكِ، أرى دنيايَ\nوفي كلِّ همسةٍ، أسمعُ لحنَ حبّي\nفأنتِ الحياةُ، وأنتِ كلُّ أمنياتي\nيا من أسرتِ فؤادي، وصرتِ نبضَ روحي' },
                        { title: 'فبتّ كأنني أسقى رضاباً', text: 'فبتّ كأنني أسقى رضاباً\nبشهدٍ من ثناياكِ الحسانِ\nوسعدُ العمرِ قد لاحَ بقلبي\nبِقربكِ، يا شفاءَ الروحِ والكيانِ\nفكمْ من ليلةٍ قد سهرتُ شوقاً\nلِألفي وجهَكِ البدرَ في الأزمانِ' }
                    ],
                    ghazal: [
                        { title: 'عيناكِ بحرٌ من الهوى', text: 'عيناكِ بحرٌ من الهوى،\nأغرقُ فيه ولا أرتوي.\nوقلبكِ جنةٌ خضراء،\nفيها روحي تهيم وتختفي.\nيا من رسمتِ الحبَّ في عينيّ،\nيا قصةَ عمري التي لا تنتهي.\nبوجودكِ تتزينُ أيامي،\nوبقربكِ تزهرُ كلُّ أزهاري.\nأنتِ النبضُ في شراييني،\nوأنتِ الحياةُ التي أرغبُ فيها.' },
                        { title: 'الثغر يبتسمُ', text: 'الثغرُ يبتسمُ،\nوالقلبُ بها يُفتتنُ، لا يرفُ.\nيا بدرَ الكمالِ أشرقَتْ،\nبينَ النجومِ، أنتِ الأجملُ، لا يخفى.\nشعركِ الليلُ، وعطركِ الفجرُ،\nوقلبكِ نهرٌ من الحنانِ، لا يجفى.\nيا آيةَ الحسنِ، يا لؤلؤةَ العصرِ،\nبكِ الحياةُ تُزهى، وبكِ الروحُ تشفى.' }
                    ],
                    wisdom: [
                        { title: 'ذو العقل يشقى في النعيم بعقله', text: 'ذو العقل يشقى في النعيم بعقله\nوأخو الجهالة في الشقاوة ينعم\nوالنفسُ راغبةٌ إذا رغّبتها\nوإذا تردّ إلى قليلٍ تقنعُ\nمن يهنْ يسهلْ الهوانُ عليه\nما لجرحٍ بميتٍ إيلامُ' },
                        { title: 'إذا أنت أكرمت الكريم ملكته', text: 'إذا أنت أكرمت الكريم ملكته\nوإن أنت أكرمت اللئيم تمردا\nفضعِ الإحسانَ في موضعهِ\nفليسَ كلُّ من يُعطى يَجودا' }
                    ],
                    joy: [
                        { title: 'عيد بأي حال عدت يا عيد', text: 'عيد بأي حال عدت يا عيد\nبما مضى أم بأمرٍ فيك تجديد\nأما الأحبة فالبيداء دونهم\nفليت دونك بيداً دونها بيد' }
                    ],
                    separation: [
                        { title: 'كفى بك داء أن ترى الموت شافيا', text: 'كفى بك داء أن ترى الموت شافيا\nوحسب المنايا أن يكن أمانيا\nوليس لي ذنب سوى أنني\nرأيت ما لم ترَ الأعينُ' }
                    ],
                    longing: [
                        { title: 'بم التعلل لا أهل ولا وطن', text: 'بم التعلل لا أهل ولا وطن\nولا نديم ولا كأس ولا سكن\nوإذا حللتُ مكاناً عزَّ مطلوبي\nفمكاني في كلِّ الأرضِ مكانُ' }
                    ]
                }
            },
            {
                id: 'badr_shaker',
                name: 'بدر شاكر السياب',
                bio: 'شاعر عراقي رائد من رواد الشعر الحر، ولد في قرية جيكور بالبصرة عام 1926 وتوفي في الكويت عام 1964. يعتبر من أهم مؤسسي حركة الشعر الحر في الأدب العربي، وأثرى المكتبة العربية بقصائده العميقة التي تتناول الواقع والمعاناة والأساطير، معالجاً قضايا الوطن والإنسان بلغة شعرية متفردة.',
                poems: {
                    love: [
                        { title: 'غريب على الخليج', text: 'الريحُ تعوي في السواحلِ،\nوأنا غريبٌ، والقلبُ ناحلُ.\nأحملُ حباً كادَ يقتلُني،\nشوقاً لعينيكِ، وليلٍ طويلِ.' },
                        { title: 'كانت لدي وردة', text: 'كانت لدي وردة،\nسقيتها بماءِ عينيّ.\nتفتحتْ على حبٍّ،\nورفرفتْ في قلبي كطيرٍ.\nثم ذبلتْ، وماتتْ،\nكما تموتُ الأشواقُ في صمتٍ.\nيا وردتي التي رحلتْ،\nتركتِ في القلبِ جرحاً لا يندملُ.' }
                    ],
                    separation: [
                        { title: 'المومس العمياء', text: 'في الميناءِ، رياحٌ تهبُ،\nوصوتُ صراخٍ، لا يُجابُ.\nوالمومسُ العمياءُ تنتظرُ،\nفي ظلمةِ الليلِ، لا بابَ.' }
                    ],
                    longing: [
                        { title: 'رسالة إلى جيكور', text: 'يا جيكورُ، يا موطنَ الصبا،\nروحي إليكِ تحنُّ، لا تطيقُ.\nفي كلِّ ركنٍ منكِ، ذكرى،\nوعطرُ الماضي، لا يزولُ.' }
                    ],
                    wisdom: [
                        { title: 'أقوال من زمن قديم', text: 'الأيامُ دولٌ، لا تدومُ على حالٍ،\nوالعقلُ نورٌ، والجهلُ ظلامٌ.\nفكنْ حكيماً، تتبعْ دربَ الحقِّ،\nفالسعادةُ في العلمِ، لا في الأوهامِ.' }
                    ]
                }
            },
            {
                id: 'nazik_al_malaika',
                name: 'نازك الملائكة',
                bio: 'شاعرة عراقية وناقدة، ولدت في بغداد عام 1923 وتوفيت في القاهرة عام 2007. تُعد من أهم رواد الشعر الحر في الأدب العربي، تميزت قصائدها بجمال اللغة وعمق المعنى والفلسفة، وتناولت مواضيع الحرية والمرأة والحياة والموت.',
                poems: {
                    love: [
                        { title: 'أنا والليل', text: 'أنا والليلُ نجومٌ وعبيرٌ،\nوحكاياتُ حبٍّ، لا تنتهي.\nفي صمتِ الكونِ، أرواحٌ،\nتتلاقى، وتهمسُ بالحبِّ.' }
                    ],
                    separation: [
                        { title: 'شجرة القمر', text: 'شجرةُ القمرِ، وحدي أراها،\nتُظلُّ حزني، وتُحيي ذكراها.\nفي كلِّ ورقةٍ، قصةُ وداعٍ،\nوفي كلِّ غصنٍ، أنينٌ وشكوى.' }
                    ],
                    longing: [
                        { title: 'وحدة', text: 'الوحدةُ بحرٌ، والروحُ تائهةٌ،\nتبحثُ عن مرفأٍ، لا تجدُ.\nفي ظلمةِ الليلِ، أشباحٌ،\nتُلاحقُها، لا تتركُ.' }
                    ],
                    wisdom: [
                        { title: 'في الطريق', text: 'في الطريقِ، نتعلمُ الدروسَ،\nمن كلِّ خطوةٍ، نجدُ الحلولَ.\nلا تيأسْ، فالحياةُ رحلةٌ،\nفيها الصعابُ، وفيها الوصولُ.' }
                    ]
                }
            },
            {
                id: 'abd_al_wahhab',
                name: 'عبد الوهاب البياتي',
                bio: 'شاعر عراقي بارز من رواد حركة الشعر الحر، ولد في بغداد عام 1926 وتوفي في دمشق عام 1999. عرف بشعره الغزير والمتنوع الذي يجمع بين الواقعية والرمزية، ويعكس هموم الإنسان العربي وقضاياه الاجتماعية والسياسية، ويُعتبر صوته الشعري معبراً عن جيل بأكمله.',
                poems: {
                    love: [
                        { title: 'عينيها', text: 'عينيها نجمٌ، والليلُ سحرٌ،\nفيهما أغرقُ، ولا أُفيقُ.\nيا سحرَ العيونِ، يا ليلَ الحبِّ،\nفيكِ قلبي يرفرفُ، ويهفو.' }
                    ],
                    separation: [
                        { title: 'الموت في بغداد', text: 'في بغدادَ، موتٌ وزهرٌ،\nوأرواحٌ ترحلُ، لا تعودُ.\nفي كلِّ زاويةٍ، ذكرى،\nوحكاياتُ حزنٍ، لا تَبيدُ.' }
                    ],
                    longing: [
                        { title: 'رحلة في أعماق الذاكرة', text: 'في أعماقِ الذاكرةِ، رحلةٌ،\nإلى زمنٍ، لا يعودُ.\nحنينٌ يمزقُ روحي،\nوشوقٌ إليكِ، لا يهدأُ.' }
                    ],
                    wisdom: [
                        { title: 'كتاب الفقر والثورة', text: 'الفقرُ نارٌ، والثورةُ نورٌ،\nفيها نجدُ الحريةَ، وننتصرُ.\nلا تخفْ من ظلمِ الزمانِ،\nفالحقُّ أقوى، والعدلُ ينتصرُ.' }
                    ]
                }
            },
            {
                id: 'jamil_sidqi',
                name: 'جميل صدقي الزهاوي',
                bio: 'شاعر وفيلسوف عراقي، ولد في بغداد عام 1863 وتوفي فيها عام 1936. يعتبر من أبرز شعراء العراق في العصر الحديث، واشتهر بشعره الذي يدعو إلى الإصلاح الاجتماعي والنهضة والحرية، وكان من دعاة تحرير المرأة. شعره اتسم بالجرأة الفكرية والأسلوب البليغ.',
                poems: {
                    ghazal: [
                        { title: 'عيناكِ سرُّ الجمال', text: 'سحرُ العيونِ يجذبُ،\nفيها جمالٌ لا يُوصفُ.\nوالثغرُ يبتسمُ،\nوالقلبُ بها يُفتتنُ، لا يرفُ.\nيا بدرَ الكمالِ أشرقَتْ،\nبينَ النجومِ، أنتِ الأجملُ، لا يخفى.' }
                    ],
                    wisdom: [
                        { title: 'درس الحياة', text: 'الحياةُ درسٌ، والعقلُ مرآةٌ،\nفيها نرى أنفسنا، ونتعلمُ.\nلا تغترَّ بجمالٍ زائلٍ،\nفالروحُ تبقى، والجسدُ يزولُ.' }
                    ]
                }
            },
            {
                id: 'ma_ruf_al_rusafi',
                name: 'معروف الرصافي',
                bio: 'شاعر عراقي كبير، ولد في بغداد عام 1875 وتوفي فيها عام 1945. يعد من رواد الشعر الحديث في العراق، وعرف بشعره الوطني والاجتماعي الذي يلامس قضايا الفقر والجهل والظلم، وكان له دور كبير في الصحافة العراقية، داعياً للعدالة والتعليم ومناهضة الاستبداد.',
                poems: {
                    love: [
                        { title: 'أنت الحبيب', text: 'أنتَ الحبيبُ، ونورُ عينيّ،\nفي كلِّ نبضٍ، أنتَ تسكُنُ.\nيا من أسرتَ قلبي،\nوروحي إليكَ، لا تفارقُ.' }
                    ],
                    wisdom: [
                        { title: 'الحياة دروس', text: 'في كلِّ يومٍ درسٌ،\nمنها نتعلمُ ونتقنُ.\nفاصبرْ على حكمها،\nواعملْ بجدٍّ، فكلُّ شيءٍ يتقنُ.\nالحياةُ بحرٌ عميقٌ،\nوالعقلُ سفينتُكَ، فكنْ حكيماً، لا تهنْ.' }
                    ]
                }
            },
            {
                id: 'mohammad_mahdi_al_jawahiri',
                name: 'محمد مهدي الجواهري',
                bio: 'شاعر عربي عراقي يُلقب بـ "نهر العراق الثالث" و "شاعر العرب الأكبر". ولد في النجف عام 1899 وتوفي في دمشق عام 1997. يعتبر من أبرز شعراء العصر الحديث، وامتاز بغزارة إنتاجه وقوة أسلوبه وشاعريته الفذة التي غطت مختلف الأغراض الشعرية من وطنية وقومية ووجدانية.',
                poems: {
                    love: [
                        { title: 'أتتني ذات يوم', text: 'أتتني ذات يومٍ، كالبدرِ،\nوالكونُ يرقصُ، والروحُ تسهرُ.\nفي عينيها، سحرٌ خفيٌ،\nوقلبٌ ينبضُ، لا يُنكرُ.' }
                    ],
                    wisdom: [
                        { title: 'كن في الحياة', text: 'كن في الحياةِ كالنهرِ، يجري،\nلا يتوقفُ، ولا يتوانى.\nفالزمنُ يمضي، لا ينتظرُ،\nوالعمرُ يمرُّ، لا يتوانى.' }
                    ]
                }
            }
        ];

        // Update current year in footer
        document.getElementById('current-year').textContent = new Date().getFullYear();

        // Function to generate poet cards
        function generatePoetCards() {
            const poetsGrid = document.getElementById('poets-grid');
            poetsGrid.innerHTML = ''; // Clear existing cards

            poetsData.forEach(poet => {
                const card = document.createElement('div');
                card.className = 'poet-grid-card';
                card.setAttribute('data-poet-id', poet.id);
                card.innerHTML = `<h3>${poet.name}</h3>`;
                card.onclick = () => openPoetModal(poet.id);
                poetsGrid.appendChild(card);
            });
        }

        // Function to show/hide sections
        function showSection(sectionId) {
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(`${sectionId}-section`).classList.add('active');
            closeMobileMenu(); // Close menu after selection
            if (sectionId === 'home') {
                document.getElementById('back-to-home-btn').style.display = 'none';
            } else {
                document.getElementById('back-to-home-btn').style.display = 'block';
                document.getElementById('back-to-home-btn').classList.add('active');
            }
        }

        // Function to open poet modal
        function openPoetModal(poetId) {
            const poet = poetsData.find(p => p.id === poetId);
            if (!poet) return;

            document.getElementById('poet-detail-name').textContent = poet.name;
            document.getElementById('poet-detail-bio').textContent = poet.bio;

            const poemCategoriesDiv = document.getElementById('poem-categories');
            poemCategoriesDiv.innerHTML = '';
            const categories = Object.keys(poet.poems);

            categories.forEach(category => {
                const categoryButton = document.createElement('button');
                categoryButton.className = 'category-pill';
                // Map category keys to Arabic display names
                const categoryNames = {
                    'love': 'الحب',
                    'separation': 'الفراق',
                    'longing': 'الحنين',
                    'ghazal': 'الغزل',
                    'wisdom': 'الحكمة',
                    'joy': 'الفرح'
                };
                categoryButton.textContent = categoryNames[category] || category;
                categoryButton.onclick = (event) => { // Pass event to displayPoems
                    displayPoems(poet.poems[category], event);
                };
                poemCategoriesDiv.appendChild(categoryButton);
            });

            // Display poems of the first category by default
            if (categories.length > 0) {
                // Manually trigger click event on the first button to apply active class and display poems
                // This is a workaround as direct click() might not trigger all browser events correctly for styling
                const firstCategoryButton = poemCategoriesDiv.children[0];
                if (firstCategoryButton) {
                    firstCategoryButton.click(); // This will call displayPoems and add 'active' class
                }
            }

            document.getElementById('poet-detail-modal').classList.add('open');
            document.getElementById('back-to-home-btn').style.display = 'block';
            document.getElementById('back-to-home-btn').classList.add('active');
            document.body.style.overflow = 'hidden'; // Prevent scrolling of main content
        }

        // Function to close poet modal
        function closePoetModal() {
            document.getElementById('poet-detail-modal').classList.remove('open');
            document.getElementById('back-to-home-btn').style.display = 'none';
            document.getElementById('back-to-home-btn').classList.remove('active');
            document.body.style.overflow = ''; // Restore scrolling
        }

        // Function to display poems of a given category
        function displayPoems(poems, event) { // Added event parameter
            const poemsDisplayDiv = document.getElementById('poems-display');
            poemsDisplayDiv.innerHTML = ''; // Clear previous poems

            // Remove active class from all category pills
            document.querySelectorAll('.category-pill').forEach(button => {
                button.classList.remove('active');
            });

            // Add active class to the clicked button if event is available
            if (event && event.target) {
                event.target.classList.add('active');
            }

            if (poems.length === 0) {
                poemsDisplayDiv.innerHTML = '<p class="text-center text-gray-600">لا توجد قصائد في هذا التصنيف.</p>';
                return;
            }

            poems.forEach(poem => {
                const poemCard = document.createElement('div');
                poemCard.className = 'poem-full-card';
                poemCard.innerHTML = `
                    <h4>${poem.title}</h4>
                    <p class="poem-text">${poem.text}</p>
                    <button class="copy-button" onclick="copyPoemText(this)">
                        <i class="fas fa-copy"></i> نسخ
                    </button>
                `;
                poemsDisplayDiv.appendChild(poemCard);
            });
        }

        // Function to copy poem text
        function copyPoemText(button) {
            const poemText = button.previousElementSibling.textContent;
            // Use execCommand for clipboard copy due to iframe restrictions
            const textarea = document.createElement('textarea');
            textarea.value = poemText;
            document.body.appendChild(textarea);
            textarea.select();
            try {
                document.execCommand('copy');
                const originalText = button.innerHTML;
                button.innerHTML = '<i class="fas fa-check"></i> تم النسخ!';
                setTimeout(() => {
                    button.innerHTML = originalText;
                }, 2000);
            } catch (err) {
                console.error('Failed to copy text: ', err);
                // Custom message box instead of alert
                showCustomMessage('فشل النسخ، يرجى المحاولة مرة أخرى.');
            } finally {
                document.body.removeChild(textarea);
            }
        }

        // Custom Message Box instead of alert()
        function showCustomMessage(message) {
            const messageBox = document.createElement('div');
            messageBox.className = 'fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-red-500 text-white p-4 rounded-lg shadow-lg z-[200]';
            messageBox.textContent = message;
            document.body.appendChild(messageBox);
            setTimeout(() => {
                messageBox.remove();
            }, 3000);
        }

        // Search functionality
        document.getElementById('search-input').addEventListener('input', function() {
            const searchTerm = this.value.toLowerCase();
            const filteredPoets = poetsData.filter(poet => {
                const matchesPoetName = poet.name.toLowerCase().includes(searchTerm);
                const matchesPoemTitle = Object.values(poet.poems).flat().some(poem =>
                    poem.title.toLowerCase().includes(searchTerm)
                );
                return matchesPoetName || matchesPoemTitle;
            });
            updatePoetsGrid(filteredPoets);
        });

        function updatePoetsGrid(filteredPoets) {
            const poetsGrid = document.getElementById('poets-grid');
            poetsGrid.innerHTML = '';
            if (filteredPoets.length === 0) {
                poetsGrid.innerHTML = '<p class="col-span-full text-center text-gray-600">لا توجد نتائج مطابقة لبحثك.</p>';
                return;
            }
            filteredPoets.forEach(poet => {
                const card = document.createElement('div');
                card.className = 'poet-grid-card';
                card.setAttribute('data-poet-id', poet.id);
                card.innerHTML = `<h3>${poet.name}</h3>`;
                card.onclick = () => openPoetModal(poet.id);
                poetsGrid.appendChild(card);
            });
        }

        // Hamburger menu toggle
        document.getElementById('hamburger-menu-toggle').addEventListener('click', function() {
            document.getElementById('mobile-sidebar').classList.add('open');
            document.body.style.overflow = 'hidden'; // Prevent scrolling when menu is open
        });

        function closeMobileMenu() {
            document.getElementById('mobile-sidebar').classList.remove('open');
            document.body.style.overflow = ''; // Restore scrolling
        }

        // Header scroll hide/show
        let lastScrollTop = 0;
        const mainHeader = document.getElementById('main-header');

        window.addEventListener('scroll', function() {
            let scrollTop = window.pageYOffset || document.documentElement.scrollTop;

            if (scrollTop > lastScrollTop && scrollTop > 200) { // If scrolling down and past a certain point
                mainHeader.classList.add('header-hidden');
            } else if (scrollTop < lastScrollTop) { // If scrolling up
                mainHeader.classList.remove('header-hidden');
            }
            lastScrollTop = scrollTop;
        });

        // Initial load
        document.addEventListener('DOMContentLoaded', () => {
            generatePoetCards();
            showSection('home'); // Show home section by default
        });

    </script>
</body>
</html>
